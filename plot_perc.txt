import matplotlib.pyplot as plt
import seaborn as sns
import matplotlib.ticker as mtick

for col in cat_cols:
    plt.figure(figsize=(4,3))
    ax = sns.countplot(x=col, data=df, order=df[col].value_counts().index)
    
    # Turn off scientific notation on the y-axis and show full integers
    ax.yaxis.set_major_formatter(mtick.FuncFormatter(lambda x, _: f'{int(x):,}'))
    
    # Add percentage labels on top of each bar
    total = len(df)
    for p in ax.patches:
        height = p.get_height()
        ax.annotate(
            f'{(height / total) * 100:.2f}%',       # percentage format
            (p.get_x() + p.get_width() / 2, height), # position at the top of the bar
            ha='center', va='bottom'
        )
    
    plt.title(col)
    plt.show()
